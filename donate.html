<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Donate | Heart for Youth</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="icon" href="images/logo.jpeg" type="image/png">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-container">
            <a href="index.html" class="logo">
                <img src="images/logo.jpeg" alt="Youth Rise Logo">
                <span>Heartfor</span>Youth
            </a>
            <nav id="main-nav">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="about.html">About</a></li>
                    <li class="dropdown">
                        <a href="programs/skills-training.html">Programs <i class="fas fa-chevron-down"></i></a>
                        <ul class="dropdown-menu">
                            <li><a href="programs/skills-training.html">Skills Training</a></li>
                            <li><a href="programs/gbv-support.html">GBV Support</a></li>
                            <li><a href="programs/menstrual-health.html">Menstrual Health</a></li>
                            <li><a href="programs/tertiary-prep.html">Tertiary Prep</a></li>
                        </ul>
                    </li>
                    <li><a href="get-involved.html">Get Involved</a></li>
                    <li><a href="donate.html" class="btn active">Donate</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </nav>
            <button id="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </header>

    <!-- Donation Hero -->
    <section class="donation-hero">
        <div class="container">
            <h1>Support Our Cause</h1>
            <p>Your donation helps us empower youth through education, skills training, and essential support services</p>
        </div>
    </section>

    <!-- Donation Content -->
    <section class="donation-content">
        <div class="container">
            <div class="donation-grid">
                <div class="donation-info">
                    <h2>Your Impact</h2>
                    <div class="impact-items">
                        <div class="impact-item">
                            <div class="impact-icon">
                                <i class="fas fa-graduation-cap"></i>
                            </div>
                            <div class="impact-text">
                                <h3>500 KES</h3>
                                <p>Provides school supplies for one student</p>
                            </div>
                        </div>
                        <div class="impact-item">
                            <div class="impact-icon">
                                <i class="fas fa-female"></i>
                            </div>
                            <div class="impact-text">
                                <h3>1,000 KES</h3>
                                <p>Monthly sanitary pads for one girl</p>
                            </div>
                        </div>
                        <div class="impact-item">
                            <div class="impact-icon">
                                <i class="fas fa-laptop"></i>
                            </div>
                            <div class="impact-text">
                                <h3>5,000 KES</h3>
                                <p>Vocational training for one youth</p>
                            </div>
                        </div>
                        <div class="impact-item">
                            <div class="impact-icon">
                                <i class="fas fa-home"></i>
                            </div>
                            <div class="impact-text">
                                <h3>10,000 KES</h3>
                                <p>Safe shelter for a GBV survivor</p>
                            </div>
                        </div>
                    </div>

                    <div class="donation-testimonials">
                        <h3>Why People Give</h3>
                        <div class="testimonial-card">
                            <p>"I donate because I believe every girl deserves to stay in school during her period. Youth Rise makes this possible."</p>
                            <div class="testimonial-author">
                                <img src="images/giver.jpeg" alt="Donor">
                                <div>
                                    <h4>Wanjiku M.</h4>
                                    <p>Monthly Donor</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="donation-form-container">
                    <div class="donation-form">
                        <h2>Make a Donation</h2>
                        
                        <div class="payment-methods">
                            <button class="payment-method active" data-method="mpesa">
                                <img src="images/mpesa.png" alt="M-Pesa">
                                <span>M-Pesa</span>
                            </button>
                            <button class="payment-method" data-method="card">
                                <i class="far fa-credit-card"></i>
                                <span>Credit Card</span>
                            </button>
                            <button class="payment-method" data-method="bank">
                                <i class="fas fa-university"></i>
                                <span>Bank Transfer</span>
                            </button>
                        </div>

                        <div class="payment-section active" id="mpesa-section">
                            <form id="mpesa-form">
                                <div class="form-group">
                                    <label for="amount">Amount (KES)</label>
                                    <input type="number" id="amount" name="amount" min="10" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="phone">M-Pesa Phone Number</label>
                                    <input type="tel" id="phone" name="phone" placeholder="e.g. 254712345678" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="frequency">Donation Frequency</label>
                                    <select id="frequency" name="frequency">
                                        <option value="one-time">One-time donation</option>
                                        <option value="monthly">Monthly donation</option>
                                    </select>
                                </div>
                                
                                <button type="submit" class="btn btn-donate">
                                    <img src="images/mpesa.png" alt="M-Pesa">
                                    Donate Now
                                </button>
                                
                                <p class="disclaimer">By clicking "Donate Now", you'll be prompted to enter your M-Pesa PIN on your phone to complete the transaction.</p>
                            </form>
                        </div>

                        <div class="payment-section" id="card-section">
                            <p>Credit card donations coming soon. Please use M-Pesa for now.</p>
                        </div>

                        <div class="payment-section" id="bank-section">
                            <h3>Bank Transfer Details</h3>
                            <div class="bank-details">
                                <p><strong>Bank Name:</strong> Equity Bank</p>
                                <p><strong>Account Name:</strong> Youth Rise Foundation</p>
                                <p><strong>Account Number:</strong> 1234567890</p>
                                <p><strong>Branch:</strong> Nairobi CBD</p>
                                <p><strong>Swift Code:</strong> EQBLKENA</p>
                            </div>
                            <p>Please email your deposit slip to donations@youthrise.org for receipt.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Donation Modal -->
    <div class="modal" id="donation-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-body">
                <div class="loader" id="loader">
                    <div class="spinner"></div>
                    <p>Processing your donation...</p>
                </div>
                <div class="success-message" id="success-message">
                    <div class="success-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h3>Thank You!</h3>
                    <p>Your donation of <span id="donation-amount">500</span> KES has been received.</p>
                    <p>A confirmation message has been sent to your phone.</p>
                    <button class="btn" id="close-success">Done</button>
                </div>
                <div class="error-message" id="error-message">
                    <div class="error-icon">
                        <i class="fas fa-times-circle"></i>
                    </div>
                    <h3>Donation Failed</h3>
                    <p id="error-text">There was an error processing your donation. Please try again.</p>
                    <button class="btn" id="try-again">Try Again</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-col">
                    <div class="footer-logo">
                        <img src="images/logo.png" alt="Youth Rise Logo">
                        <span>Youth</span>Rise
                    </div>
                    <p>Empowering youth through education, support, and opportunity to create a brighter future for all.</p>
                    <div class="footer-social">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                <div class="footer-col">
                    <h3>Programs</h3>
                    <ul>
                        <li><a href="programs/skills-training.html">Skills Training</a></li>
                        <li><a href="programs/gbv-support.html">GBV Support</a></li>
                        <li><a href="programs/menstrual-health.html">Menstrual Health</a></li>
                        <li><a href="programs/tertiary-prep.html">Tertiary Prep</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="get-involved.html">Get Involved</a></li>
                        <li><a href="donate.html">Donate</a></li>
                        <li><a href="#">News & Events</a></li>
                        <li><a href="contact.html">Contact Us</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Financial Transparency</h3>
                    <ul>
                        <li><a href="#">Annual Reports</a></li>
                        <li><a href="#">Financial Statements</a></li>
                        <li><a href="#">Donor Privacy</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="copyright">
                    <p>&copy; 2023 Youth Rise Foundation. All Rights Reserved.</p>
                </div>
                <div class="footer-links">
                    <a href="#">Privacy Policy</a>
                    <a href="#">Terms of Service</a>
                    <a href="#">Sitemap</a>
                </div>
            </div>
        </div>
    </footer>

    <script src="js/main.js"></script>
    <script>
        // Payment method tabs
        const paymentMethods = document.querySelectorAll('.payment-method');
        const paymentSections = document.querySelectorAll('.payment-section');
        
        paymentMethods.forEach(method => {
            method.addEventListener('click', () => {
                // Remove active class from all methods and sections
                paymentMethods.forEach(m => m.classList.remove('active'));
                paymentSections.forEach(s => s.classList.remove('active'));
                
                // Add active class to clicked method and corresponding section
                method.classList.add('active');
                const methodId = method.getAttribute('data-method') + '-section';
                document.getElementById(methodId).classList.add('active');
            });
        });

        // M-Pesa Form Submission
        const mpesaForm = document.getElementById('mpesa-form');
        const donationModal = document.getElementById('donation-modal');
        const loader = document.getElementById('loader');
        const successMessage = document.getElementById('success-message');
        const errorMessage = document.getElementById('error-message');
        const closeModal = document.querySelector('.close-modal');
        const closeSuccess = document.getElementById('close-success');
        const tryAgain = document.getElementById('try-again');
        
        mpesaForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Get form values
            const amount = document.getElementById('amount').value;
            const phone = document.getElementById('phone').value;
            const frequency = document.getElementById('frequency').value;
            
            // Validate phone number
            if (!phone.match(/^254[17]\d{8}$/) && !phone.match(/^07\d{8}$/)) {
                alert('Please enter a valid Kenyan phone number starting with 254 or 07');
                return;
            }
            
            // Format phone number to 254 format if in 07 format
            let formattedPhone = phone;
            if (phone.match(/^07\d{8}$/)) {
                formattedPhone = '254' + phone.substring(1);
            }
            
            // Show modal with loader
            donationModal.style.display = 'block';
            loader.style.display = 'flex';
            successMessage.style.display = 'none';
            errorMessage.style.display = 'none';
            
            // Set donation amount in success message
            document.getElementById('donation-amount').textContent = amount;
            
            // Simulate M-Pesa STK Push (in a real implementation, this would be an API call)
            setTimeout(() => {
                // For demo purposes, we'll randomly decide if it's successful
                const isSuccess = Math.random() > 0.2; // 80% chance of success
                
                loader.style.display = 'none';
                
                if (isSuccess) {
                    successMessage.style.display = 'block';
                    
                    // In a real implementation, you would:
                    // 1. Send the request to your backend
                    // 2. Your backend would initiate the M-Pesa STK push
                    // 3. User would get prompt on their phone to enter PIN
                    // 4. Your backend would confirm payment and show success
                    
                    // Reset form
                    mpesaForm.reset();
                } else {
                    document.getElementById('error-text').textContent = 
                        "The M-Pesa prompt wasn't sent. Please check your phone number and try again.";
                    errorMessage.style.display = 'block';
                }
            }, 2000);
        });
        
        // Close modal handlers
        closeModal.addEventListener('click', () => {
            donationModal.style.display = 'none';
        });
        
        closeSuccess.addEventListener('click', () => {
            donationModal.style.display = 'none';
        });
        
        tryAgain.addEventListener('click', () => {
            loader.style.display = 'flex';
            successMessage.style.display = 'none';
            errorMessage.style.display = 'none';
            
            // Simulate retry
            setTimeout(() => {
                loader.style.display = 'none';
                successMessage.style.display = 'block';
                mpesaForm.reset();
            }, 2000);
        });
        
        // Close modal when clicking outside
        window.addEventListener('click', (e) => {
            if (e.target === donationModal) {
                donationModal.style.display = 'none';
            }
        });
    </script>
</body>
</html>